(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{226:function(e,a,t){},232:function(e,a,t){},5495:function(e,a,t){e.exports=t(5767)},5500:function(e,a,t){},5502:function(e,a,t){},5504:function(e,a,t){},5675:function(e,a,t){},5764:function(e,a,t){},5767:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(20),o=t.n(l),i=(t(5500),t(29)),c=t(30),s=t(32),u=t(31),d=t(33),m=(t(5502),t(5771)),p=t(5770),h=t(2),g=t(233),E=t(34),f=function(e){return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginLeft:12,marginRight:10},hide:{display:"none"},drawer:{width:240,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:Object(E.a)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:7*e.spacing.unit+1},e.breakpoints.up("sm"),{width:9*e.spacing.unit+1}),toolbar:Object(g.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),content:{flexGrow:1,marginLeft:"73px"},bigAvatar:{margin:10,width:60,height:60},flexGrow:{flexGrow:1},salesMenuRoot:{marginTop:"-20px",flexGrow:1,width:"100%",backgroundColor:e.palette.background.paper,textAlign:"left"},container:{display:"flex",flexWrap:"wrap"}}},v=t(18),C=t(103),b=t.n(C),w=t(8),y=t.n(w),S=(t(5504),Object(v.withStyles)(f,{withTheme:!0})(function(e){var a=e.classes,t=e.open,n=e.handleDrawerOpen,l=e.photoURL,o=e.role,i=e.toHome;return r.a.createElement(h.a,{position:"fixed",className:y()(a.appBar,Object(E.a)({},a.appBarShift,t))},r.a.createElement(h.I,{className:"navbar-distribution",disableGutters:!t},r.a.createElement("div",{className:"left-items"},r.a.createElement(h.p,{color:"inherit","aria-label":"Open drawer",onClick:n,className:y()(a.menuButton,Object(E.a)({},a.hide,t))},r.a.createElement(b.a,null)),r.a.createElement("img",{onClick:i,style:{width:"100px",cursor:"pointer"},src:"/logo.png",alt:"fss-logo"})),r.a.createElement("div",{className:"profile-circled"},r.a.createElement(h.b,{alt:"profile-mini-pic",src:l}),r.a.createElement("span",null,o))))})),L=t(24),P=Object(v.withStyles)(f,{withTheme:!0})(function(e){var a,t,n=e.open,l=e.direction,o=e.handleDrawerClose,i=e.classes,c=e.location,s=e.handleLocation;return r.a.createElement(h.l,{variant:"permanent",className:y()(i.drawer,(a={},Object(E.a)(a,i.drawerOpen,n),Object(E.a)(a,i.drawerClose,!n),a)),classes:{paper:y()((t={},Object(E.a)(t,i.drawerOpen,n),Object(E.a)(t,i.drawerClose,!n),t))},open:n},r.a.createElement("div",{className:i.toolbar},r.a.createElement(h.p,{onClick:o},"right"===l?r.a.createElement(L.d,null):r.a.createElement(L.c,null))),r.a.createElement(h.k,null),r.a.createElement(h.r,{component:"nav"},r.a.createElement(h.s,{selected:"root"===c,onClick:function(){return s("root")},button:!0},n?r.a.createElement(h.t,null,r.a.createElement(L.h,null)):r.a.createElement(h.J,{title:"Resumen",placement:"right-start"},r.a.createElement(h.t,null,r.a.createElement(L.h,null))),r.a.createElement(h.u,{primary:"Resumen"})),r.a.createElement(h.s,{selected:"ventas"===c,onClick:function(){return s("ventas")},button:!0},n?r.a.createElement(h.t,null,r.a.createElement(L.a,null)):r.a.createElement(h.J,{title:"Ventas",placement:"right-start"},r.a.createElement(h.t,null,r.a.createElement(L.a,null))),r.a.createElement(h.u,{primary:"Ventas"}))),r.a.createElement(h.k,null),r.a.createElement(h.r,{component:"nav"},r.a.createElement(h.s,{selected:"profile"===c,onClick:function(){return s("profile")},button:!0},n?r.a.createElement(h.t,null,r.a.createElement(L.g,null)):r.a.createElement(h.J,{title:"Perfil",placement:"right-start"},r.a.createElement(h.t,null,r.a.createElement(L.g,null))),r.a.createElement(h.u,{primary:"Perfil"}))))}),N=(t(5675),t(152));N.initializeApp({apiKey:"AIzaSyDiJ--AaTzWP3NdW1j6Zo4wvB17x1Cr2nk",authDomain:"fss-react.firebaseapp.com",databaseURL:"https://fss-react.firebaseio.com",projectId:"fss-react",storageBucket:"fss-react.appspot.com",messagingSenderId:"18829816109"});var O=N,k=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(s.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(r)))).state={open:!1,direction:"left",location:"root",user:{},message:String,progress:0},t.componentDidMount=function(){var e=JSON.parse(localStorage.getItem("user"));if(!e)return t.props.history.push("/login");t.setState({user:e})},t.handleChange=function(e){var a=t.state.user;switch(e.target.id){case"name":a.name=e.target.value;break;case"email":a.email=e.target.value;break;default:return}t.setState({user:a})},t.uploadPhoto=function(e){var a=t.state.user,n=e.target.files[0],r=O.storage().ref("profilePics/".concat(a.name,"-").concat(a._id)).child(n.name).put(n);r.on("state_changed",function(e){var a=e.bytesTransferred/e.totalBytes*100;a=Math.floor(a),t.setState({progress:a})}),r.then(function(e){return e.ref.getDownloadURL()}).then(function(e){a.photoURL=e,localStorage.setItem("user",JSON.stringify(a)),t.props.updateUser(a),t.setState({user:a,progress:0,open:!0,message:"Foto de perfil actualizada"})})},t.clickInput=function(){document.getElementById("photoUpload").click()},t.close=function(){return t.setState({open:!1})},t}return Object(d.a)(a,e),Object(c.a)(a,[{key:"render",value:function(){var e=this.state,a=e.open,t=e.user,n=e.message,l=e.progress,o=this.handleChange,i=this.close,c=this.uploadPhoto,s=this.clickInput;return r.a.createElement("div",null,r.a.createElement(h.w,{className:"paper-profile"},r.a.createElement("h2",null,"Perfil de ",t.name),t.photoURL?l>0?r.a.createElement(h.e,{variant:"determinate",value:l}):r.a.createElement("div",{onClick:s,style:{backgroundImage:"url(".concat(t.photoURL,")")},className:"profile-picture"},r.a.createElement("span",null,r.a.createElement(L.b,null),r.a.createElement("p",null,"Editar"))):r.a.createElement(h.e,null),r.a.createElement("form",null,r.a.createElement("div",null,r.a.createElement(h.H,{InputLabelProps:{shrink:!0},disabled:!0,id:"email",label:"Email",value:t.email,onChange:o,margin:"normal"})),r.a.createElement("div",null,r.a.createElement(h.H,{InputLabelProps:{shrink:!0},id:"name",label:"Nombre",value:t.name,onChange:o,margin:"normal"})),r.a.createElement("input",{onChange:c,type:"file",name:"photoURL",id:"photoUpload",style:{display:"none"}}))),r.a.createElement(h.y,{open:a,message:n,close:i}))}}]),a}(n.Component),j=(t(226),function(e){var a=e.dialog,t=e.closeDialog,n=e.handleChange,l=e.lead,o=e.clearLead,i=e.submitLead,c=e.updateLead,s=e.deleteLead,u=e.dialogNew;return r.a.createElement(h.g,{open:u||a,onClose:t,"aria-labelledby":"new-form"},r.a.createElement(h.j,null,u?"Nuevo Lead":"Editar ".concat(l.bussinessName)),r.a.createElement(h.i,null,r.a.createElement("form",{className:"sales-oportunity-fields",autoComplete:"off"},r.a.createElement("div",null,r.a.createElement(h.H,{required:!0,className:"text-field",id:"bussinessName",label:"Nombre de la empresa",value:l.bussinessName,onChange:n}),r.a.createElement(h.H,{required:!0,className:"text-field",id:"bussinessRole",label:"Giro de la empresa",value:l.bussinessRole,onChange:n}),r.a.createElement(h.H,{required:!0,className:"text-field",id:"bussinessAddress",label:"Direcci\xf3n",value:l.bussinessAddress,onChange:n})),r.a.createElement("div",null,r.a.createElement(h.H,{required:!0,className:"text-field",id:"industry",label:"Industria",value:l.industry,onChange:n}),r.a.createElement(h.m,{className:"text-field"},r.a.createElement(h.q,{shrink:!0,htmlFor:"origin"},"Origen"),r.a.createElement(h.x,{required:!0,value:l.origin,onChange:n,inputProps:{name:"Origen",id:"origin"}},r.a.createElement(h.v,{value:"",disabled:!0},r.a.createElement("em",null,"Selecciona  ")),r.a.createElement(h.v,{value:"Nacional"},"Nacional"),r.a.createElement(h.v,{value:"Extranjero"},"Extranjero"))),r.a.createElement(h.H,{required:!0,type:"number",className:"text-field",id:"bussinessEmployees",label:"No. de empleados",value:l.bussinessEmployees,onChange:n})),r.a.createElement("div",null,r.a.createElement(h.H,{required:!0,className:"text-field",id:"contactName",label:"Nombre del contacto",value:l.contactName,onChange:n}),r.a.createElement(h.H,{required:!0,className:"text-field",id:"contactPosition",label:"Puesto del contacto",value:l.contactPosition,onChange:n}),r.a.createElement(h.H,{required:!0,className:"text-field",id:"contactPhone",label:"Tel\xe9fono",value:l.contactPhone,onChange:n}),r.a.createElement(h.H,{required:!0,className:"text-field",type:"email",id:"contactEmail",label:"Email",value:l.contactEmail,onChange:n}),r.a.createElement(h.H,{className:"text-field",type:"text",id:"commentText",label:"Comentarios",value:l.commentText,onChange:n})))),u?r.a.createElement(h.h,null,r.a.createElement(h.c,{onClick:t},"Cancelar"),r.a.createElement(h.c,{onClick:o,variant:"outlined"},"Limpiar"),r.a.createElement(h.c,{onClick:i,color:"primary",variant:"contained"},"Agregar")):r.a.createElement(h.h,null,r.a.createElement(h.c,{onClick:t},"Cancelar"),r.a.createElement(h.c,{onClick:function(){return s(l._id)},color:"secondary",variant:"contained"},"Borrar"),r.a.createElement(h.c,{onClick:function(){return c(l._id)},color:"primary",variant:"contained"},"Actualizar")))}),D=t(79),x=t(155),I=t(154),R=t.n(I),H=function(e){var a=e.leads,t=e.rowsPerPage,n=e.page,l=e.handleChangePage,o=e.handleChangeRowsPerPage,i=e.deleteLead,c=e.dialog,s=e.closeDialog,u=e.handleChange,d=e.lead,m=e.clearLead,p=e.submitLead,g=e.openDialog,E=e.updateLead,f=e.handleDateChange;return r.a.createElement("div",null,r.a.createElement(h.w,{id:"tablas",style:{width:"100%",margin:"1em auto",padding:"1em"}},r.a.createElement("div",{style:{overflowX:"auto"}},r.a.createElement(h.A,null,r.a.createElement(h.D,null,r.a.createElement(h.F,null,r.a.createElement(h.C,null,"Empresa"),r.a.createElement(h.C,null,"Giro"),r.a.createElement(h.C,null,"Empleados"),r.a.createElement(h.C,null,"Direcci\xf3n"),r.a.createElement(h.C,null,"Contacto"),r.a.createElement(h.C,null,"Posici\xf3n"),r.a.createElement(h.C,null,"Tel\xe9fono"),r.a.createElement(h.C,null,"Email"),r.a.createElement(h.C,null,"Industria"),r.a.createElement(h.C,null,"Origen"),r.a.createElement(h.C,null,"Interesado"),r.a.createElement(h.C,null,"Reuni\xf3n"),r.a.createElement(h.C,null),r.a.createElement(h.C,null,"Comentarios"),r.a.createElement(h.C,null,"Editar"),r.a.createElement(h.C,null,"Cotizaci\xf3n"))),r.a.createElement(h.B,null,a?a.map(function(e,a){return a<10*n+10&&a>=10*n?r.a.createElement(h.F,{key:a},r.a.createElement(h.C,{component:"th",scope:"row"},e.bussinessName),r.a.createElement(h.C,null,e.bussinessRole),r.a.createElement(h.C,null,e.bussinessEmployees),r.a.createElement(h.C,null,e.bussinessAddress),r.a.createElement(h.C,null,e.contactName),r.a.createElement(h.C,null,e.contactPosition),r.a.createElement(h.C,null,e.contactPhone),r.a.createElement(h.C,null,e.contactEmail),r.a.createElement(h.C,null,e.industry),r.a.createElement(h.C,null,e.origin),r.a.createElement(h.C,null,r.a.createElement(h.n,{control:r.a.createElement(h.d,{checked:e.interested,onChange:f(e._id,e,e.interested),value:e.interested,id:"interested"})})),r.a.createElement(h.C,{style:{width:"200px",padding:"8px"}},r.a.createElement(D.b,{utils:x.a,locale:R.a,views:["year"]},r.a.createElement(h.o,{container:!0,justify:"space-around"},r.a.createElement(D.a,{okLabel:"Guardar",cancelLabel:"Cancelar",label:"Fecha",value:e.meetingDate,onChange:f(e._id,e,null),format:"dd/MM/yyyy"})))),r.a.createElement(h.C,{style:{width:"200px",padding:"5px"}},r.a.createElement(D.b,{utils:x.a,locale:R.a},r.a.createElement(h.o,{container:!0,justify:"space-around"},r.a.createElement(D.c,{okLabel:"Guardar",cancelLabel:"Cancelar",label:"Hora",value:e.meetingDate,onChange:f(e._id,e,null)})))),r.a.createElement(h.C,null,e.commentText),r.a.createElement(h.C,null,r.a.createElement(L.f,{onClick:function(){return g(e,"update")},style:{fontSize:"17px",cursor:"pointer"}})),r.a.createElement(h.C,null,"Cotizar")):""}):r.a.createElement(h.F,null,r.a.createElement(h.C,{component:"th",scope:"row"},"Cargando datos"),r.a.createElement(h.C,{component:"th",scope:"row"},r.a.createElement(h.e,{color:"secondary",style:{margin:"1em"}})))))),r.a.createElement(h.E,{rowsPerPageOptions:[5],component:"Table",count:a?a.length:0,rowsPerPage:t,page:n,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onChangePage:l,onChangeRowsPerPage:o})),r.a.createElement(j,{dialog:c,closeDialog:s,handleChange:u,lead:d,deleteLead:i,clearLead:m,submitLead:p,updateLead:E}))},A=function(e){var a=e.handleChange,t=e.lead,n=e.leads,l=e.handleChangePage,o=e.handleChangeRowsPerPage,i=e.rowsPerPage,c=e.page,s=e.submitLead,u=e.clearLead,d=e.deleteLead,m=e.openDialog,p=e.closeDialog,g=e.dialog,E=e.dialogNew,f=e.updateLead,v=e.handleDateChange;return r.a.createElement("div",{style:{margin:"1em 0"}},r.a.createElement("h4",null,"Leads"),r.a.createElement(H,{handleChangePage:l,handleChangeRowsPerPage:o,page:c,rowsPerPage:i,leads:n,deleteLead:d,dialog:g,openDialog:m,closeDialog:p,handleChange:a,lead:t,clearLead:u,submitLead:s,updateLead:f,handleDateChange:v}),r.a.createElement("div",null,r.a.createElement(h.c,{onClick:function(){return m({},"new")},variant:"contained",color:"primary"},"Nuevo Lead")),r.a.createElement(j,{dialogNew:E,closeDialog:p,handleChange:a,lead:t,clearLead:u,submitLead:s}))},z=function(e){var a=e.value,t=e.handleChange,n=e.lead,l=e.leads,o=e.handleChangePage,i=e.handleChangeRowsPerPage,c=e.handleClose,s=e.rowsPerPage,u=e.page,d=e.submitLead,m=e.getLeads,p=e.clearLead,h=e.deleteLead,g=e.openDialog,E=e.closeDialog,f=e.dialog,v=e.updateLead,C=e.dialogNew,b=e.handleDateChange;return r.a.createElement("div",{className:"tab-content"},0===a?r.a.createElement(A,{handleChange:t,handleChangePage:o,handleChangeRowsPerPage:i,page:u,rowsPerPage:s,lead:n,leads:l,handleClose:c,submitLead:d,getLeads:m,clearLead:p,deleteLead:h,openDialog:g,closeDialog:E,dialog:f,dialogNew:C,updateLead:v,handleDateChange:b}):"otro")},B=t(37),T=t.n(B),U="https://crm-fss.herokuapp.com/",J=function(e){return T.a.get("".concat(U,"/getAll/").concat(e)).then(function(e){return e}).catch(function(e){return e.response})},_=function(e,a){return T.a.post("".concat(U,"/newLead/").concat(e),a,{}).then(function(e){return e}).catch(function(e){return e.response})},q=function(e){var a=e.id;return T.a.post("".concat(U,"/removeLead/").concat(a)).then(function(e){return e}).catch(function(e){return e.response})},M=function(e,a){return T.a.post("".concat(U,"/removeUserLead/").concat(e),a).then(function(e){return e}).catch(function(e){return e.response})},G=function(e,a){return T.a.post("".concat(U,"/updateLead/").concat(e),a).then(function(e){return e}).catch(function(e){return e.response})},F=function(e){var a=e.open,t=e.message,n=e.close;return r.a.createElement(h.y,{color:"secondary",anchorOrigin:{vertical:"bottom",horizontal:"left"},open:a,autoHideDuration:6e3,onClose:n,ContentProps:{"aria-describedby":"message-id"},message:r.a.createElement("span",{id:"message-id"},t),action:[r.a.createElement(h.p,{key:"close","aria-label":"Close",color:"inherit",onClick:n},r.a.createElement(L.e,null))]})},W=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(s.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(r)))).state={value:0,lead:{},leads:[],user:{},page:0,rowsPerPage:10,message:String,open:!1,dialog:!1,dialogNew:!1},t.componentDidMount=function(){var e=JSON.parse(localStorage.getItem("user"));if(!e)return t.props.history.push("/login");t.setState({user:e},t.getLeads)},t.handleChange=function(e){var a=t.state.lead;if("Origen"===e.target.name)return a.origin=e.target.value,t.setState({lead:a});a[e.target.id]=e.target.value,t.setState({lead:a})},t.handleDateChange=function(e,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return function(r){var l=a;if(null!==n)return l.interested=!n,t.setState({lead:l},function(){return t.updateLead(e)});l.meetingDate=r,t.setState({lead:l},function(){return t.updateLead(e)})}},t.getLeads=function(){var e=t.state.user;J(e._id).then(function(e){return t.setState({leads:e.data.leads})}).catch(function(e){return console.log(e)})},t.submitLead=function(){var e=t.state,a=e.user,n=e.lead;n.commentPostedBy=a.name,_(a._id,n).then(function(e){t.getLeads(a._id),t.setState({dialogNew:!1,open:!0,message:"Lead creado"},t.clearLead)}).catch(function(e){return console.log(e)})},t.updateLead=function(e){var a=t.state,n=a.user,r=a.lead;G(e,r).then(function(e){t.getLeads(n._id),t.setState({dialog:!1,open:!0,message:"Actualizado correctamente"})}).catch(function(e){return console.log(e)})},t.clearLead=function(){var e=t.state.lead;Object.keys(e).map(function(a){return e[a]=""}),t.setState({lead:e})},t.deleteLead=function(e){var a=t.state.user,n={id:e};q(n).then(function(e){return e}).catch(function(e){return console.log(e)}),M(a._id,n).then(function(e){t.getLeads(),t.setState({dialog:!1,open:!0,message:"Lead eliminado"})}).catch(function(e){return console.log(e)})},t.handleTabs=function(e,a){return t.setState({value:a})},t.close=function(){return t.setState({open:!1})},t.openDialog=function(e,a){"update"===a?t.setState({dialog:!0,lead:e}):t.setState({dialogNew:!0,lead:{}})},t.closeDialog=function(){t.setState({dialog:!1,dialogNew:!1},t.getLeads)},t.handleChangePage=function(e,a){return t.setState({page:a})},t.handleChangeRowsPerPage=function(e){return t.setState({rowsPerPage:e.target.value})},t}return Object(d.a)(a,e),Object(c.a)(a,[{key:"render",value:function(){var e=this.props.classes,a=this.state,t=a.value,n=a.message,l=a.page,o=a.rowsPerPage,i=a.lead,c=a.user,s=a.open,u=a.leads,d=a.dialog,m=a.dialogNew,p=this.handleTabs,g=this.handleChange,E=this.handleChangePage,f=this.handleChangeRowsPerPage,v=this.close,C=this.submitLead,b=this.getLeads,w=this.clearLead,y=this.deleteLead,S=this.closeDialog,L=this.openDialog,P=this.updateLead,N=this.handleDateChange;return r.a.createElement("div",{className:e.salesMenuRoot},r.a.createElement("h2",{className:"section-title"},"Ventas"),r.a.createElement(h.a,{position:"static",color:"default"},r.a.createElement(h.G,{value:t,onChange:p,indicatorColor:"primary",textColor:"primary"},r.a.createElement(h.z,{onClick:b,label:"Oportunidad de venta"}),r.a.createElement(h.z,{label:"Prospectar clientes"}),r.a.createElement(h.z,{label:"Formalizar cuentas"}),r.a.createElement(h.z,{label:"Supervisar implementaci\xf3n del servicio"}),r.a.createElement(h.z,{label:"Quejas/Sugerencias"}),r.a.createElement(h.z,{label:"Satisfacci\xf3n del cliente"}))),r.a.createElement(z,{value:t,handleChange:g,handleChangePage:E,handleChangeRowsPerPage:f,page:l,rowsPerPage:o,lead:i,leads:u,user:c,submitLead:C,getLeads:b,clearLead:w,deleteLead:y,dialog:d,openDialog:L,closeDialog:S,dialogNew:m,updateLead:P,handleDateChange:N}),r.a.createElement(F,{close:v,message:n,open:s}))}}]),a}(n.Component),V=Object(v.withStyles)(f)(W),K="https://crm-fss.herokuapp.com/",X=function(e){return T.a.post("".concat(K,"/signup"),e,{}).then(function(e){return e.data}).catch(function(e){return e.response})},Q=function(e){return T.a.post("".concat(K,"/login"),e,{withCredentials:!0}).then(function(e){return e.data}).catch(function(e){return e.response})},Z=function(e,a){return T.a.post("".concat(K,"/updateUser/").concat(e),a,{}).then(function(e){return e.data}).catch(function(e){return e.response})},$=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(s.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(r)))).state={open:!1,direction:"left",location:"root",user:{},message:String},t.componentDidMount=function(){var e=JSON.parse(localStorage.getItem("user"));if(!e)return t.props.history.push("/login");t.setState({user:e})},t.handleDrawerOpen=function(){return t.setState({open:!0,direction:"left"})},t.handleDrawerClose=function(){return t.setState({open:!1,direction:"right"})},t.handleLocation=function(e){return t.setState({location:e})},t.toHome=function(){return t.setState({location:"root"})},t.updateUser=function(e){Z(e._id,e),t.setState({user:e})},t.close=function(){return t.setState({open:!1})},t}return Object(d.a)(a,e),Object(c.a)(a,[{key:"render",value:function(){var e=this.state,a=e.open,t=e.direction,n=e.location,l=e.user,o=(e.message,this.handleDrawerClose),i=this.handleDrawerOpen,c=this.handleLocation,s=(this.handleChange,this.close,this.updateUser),u=this.toHome,d=this.props.classes;return r.a.createElement("div",null,r.a.createElement("div",{className:"root"},r.a.createElement(h.f,null),r.a.createElement(S,Object.assign({handleDrawerOpen:i,toHome:u,open:a,classes:d},l)),r.a.createElement(P,{handleDrawerClose:o,location:n,open:a,direction:t,classes:d,handleLocation:c}),r.a.createElement("main",{className:d.content},r.a.createElement("div",{className:d.toolbar}),"root"===n?r.a.createElement(h.K,{paragraph:!0},"Dashboard Principal"):"ventas"===n?r.a.createElement(V,null):"profile"===n?r.a.createElement(k,{updateUser:s}):"Not root")))}}]),a}(n.Component),Y=Object(v.withStyles)(f,{withTheme:!0})($),ee=(t(232),t(5764),t(97)),ae=t.n(ee),te=t(54),ne=t.n(te),re=t(22),le=t.n(re),oe=t(36),ie=t.n(oe),ce=t(5768),se=function(){return r.a.createElement(ae.a,{position:"static"},r.a.createElement(ne.a,{className:"grow"},r.a.createElement(le.a,{variant:"h6",color:"inherit"},"FSS"),r.a.createElement(ie.a,{color:"inherit"},r.a.createElement(ce.a,{style:{color:"white"},to:"/login"},"Login"))))},ue=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(s.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(r)))).state={user:{},message:String,open:!1},t.componentDidMount=function(){if(!JSON.parse(localStorage.getItem("user")))return t.setState({user:{},isAuth:!1});t.props.history.push("/home")},t.handleChange=function(e){var a=t.state.user;a[e.target.id]=e.target.value,t.setState({user:a})},t.handleSubmit=function(){var e=t.state.user;Q(e).then(function(e){return 500===e.status?t.setState({open:!0,message:e.data.message}):404===e.status?t.setState({open:!0,message:"Nombre de usuario o contrase\xf1a incorrectos"}):(localStorage.setItem("user",JSON.stringify(e)),t.setState({open:!0,message:"Inicio de sesi\xf3n correcto, \xa1Bienvenido(a)!"}),void t.props.history.push("/home"))}).catch(function(e){return t.setState({open:!0,message:e})})},t.close=function(){return t.setState({open:!1})},t}return Object(d.a)(a,e),Object(c.a)(a,[{key:"render",value:function(){var e=this.state,a=e.user,t=e.message,n=e.open,l=this.handleChange,o=this.handleSubmit,i=this.close;return r.a.createElement("div",null,r.a.createElement(se,null),r.a.createElement(h.w,{className:"paper-signup"},r.a.createElement("h2",null,"Inicio de sesi\xf3n"),r.a.createElement("form",null,r.a.createElement("div",null,r.a.createElement(h.H,{id:"email",label:"Email",value:a.email,onChange:l,margin:"normal"})),r.a.createElement("div",null,r.a.createElement(h.H,{id:"password",label:"Contrase\xf1a",value:a.password,onChange:l,margin:"normal"})),r.a.createElement(h.c,{onClick:o,style:{margin:"1rem 0"},variant:"contained",color:"primary"},"Iniciar sesi\xf3n")),r.a.createElement("small",null,"\xbfNo tienes una cuenta? ",r.a.createElement(ce.a,{to:"/signup"},"Crea una aqu\xed"))),r.a.createElement(F,{close:i,message:t,open:n}))}}]),a}(n.Component),de=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(s.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(r)))).state={user:{},message:String,open:!1},t.componentDidMount=function(){if(!JSON.parse(localStorage.getItem("user")))return t.setState({user:{},isAuth:!1});t.props.history.push("/app")},t.handleChange=function(e){var a=t.state.user;a[e.target.id]=e.target.value,t.setState({user:a})},t.handleSubmit=function(){var e=t.state.user;X(e).then(function(e){if(500===e.status)return t.setState({open:!0,message:e.data.message});localStorage.setItem("user",JSON.stringify(e)),t.setState({open:!0,message:"Registro correcto, \xa1Bienvenido(a)!"}),t.props.history.push("/home")}).catch(function(e){return t.setState({open:!0,message:e})})},t.close=function(){return t.setState({open:!1})},t}return Object(d.a)(a,e),Object(c.a)(a,[{key:"render",value:function(){var e=this.state,a=e.user,t=e.message,n=e.open,l=this.handleChange,o=this.handleSubmit,i=this.close;return r.a.createElement("div",null,r.a.createElement(se,null),r.a.createElement(h.w,{className:"paper-signup"},r.a.createElement("h2",null,"Registro de usuario"),r.a.createElement("form",null,r.a.createElement("div",null,r.a.createElement(h.H,{id:"name",label:"Nombre",value:a.name,onChange:l,margin:"normal"})),r.a.createElement("div",null,r.a.createElement(h.H,{id:"email",label:"Email",value:a.email,onChange:l,margin:"normal"})),r.a.createElement("div",null,r.a.createElement(h.H,{id:"password",label:"Contrase\xf1a",value:a.password,onChange:l,margin:"normal"})),r.a.createElement(h.c,{onClick:o,style:{margin:"1rem 0"},variant:"contained",color:"primary"},"Registrarme"))),r.a.createElement(F,{close:i,message:t,open:n}))}}]),a}(n.Component),me=function(){return r.a.createElement(m.a,null,r.a.createElement(p.a,{path:"/home",component:Y}),r.a.createElement(p.a,{path:"/login",component:ue}),r.a.createElement(p.a,{path:"/signup",component:de}))},pe=Object(v.createMuiTheme)({typography:{useNextVariants:!0},palette:{primary:{main:"#1976d2"},secondary:{main:"#c62828"}}}),he=function(e){function a(){return Object(i.a)(this,a),Object(s.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(v.MuiThemeProvider,{theme:pe},r.a.createElement("div",{className:"App"},r.a.createElement(me,null)))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ge=t(5769);o.a.render(r.a.createElement(function(){return r.a.createElement(ge.a,null,r.a.createElement(he,null))},null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[5495,2,1]]]);
//# sourceMappingURL=main.a9f5176c.chunk.js.map